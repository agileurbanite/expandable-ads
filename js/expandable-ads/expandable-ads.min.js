/*!
 * Expandable Ads
 *
 * Version: v0.1.4
 * Author: Brent O'Connor (www.epicserve.com)
 * Requirements: jQuery v1.7.2 or greater
 *
 */
Array.prototype.getUnique=function(){var d={},c=[];for(var e=0,b=this.length;e<b;++e){if(d.hasOwnProperty(this[e])){continue}c.push(this[e]);d[this[e]]=1}return c};var expandable_ad=function(c){var a='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="{{ width }}" height="{{ height }}" id="{{ id }}">    <param name="allowScriptAccess" value="always"/>    <param name="allowFullScreen" value="false" />    <param name="wmode" value="transparent"/>    <param name="movie" value="{{ swf_url }}"/>    <param name="quality" value="high" />    <param name="FlashVars" value="{{ flash_vars }}"/>    <embed src="{{ swf_url }}" flashvars="{{ flash_vars }}" width="{{ width }}" height="{{ height }}" name="{{ id }}"    quality="high" allowscriptaccess="always" wmode="transparent" allowFullScreen="false" swliveconnect="true" type="application/x-shockwave-flash"    pluginspage="http://www.macromedia.com/go/getflashplayer" /></object>';var d={ad_id_slug:"expandable-ad-1",small_ad_id:"",small_ad_wrap_id:"",small_ad_size:"960x66",small_ad_swf_url:"",large_ad_id:"",large_ad_wrap_id:"",large_ad_size:"960x500",large_ad_swf_url:"",expand_effect:"slideDown",click_thru_url:"",open_delay_time:0.5};function b(e,f){matches=e.match(/\{\{\s[a-z0-9_]+\s\}\}/g).getUnique();c.each(matches,function(k,h){var j=h.replace(/(\{\{\s|\s\}\})/g,"");var g=(f[j]===undefined)?"":f[j];var l=new RegExp(h,"g");e=e.replace(l,g)});return e}return{version:"v0.1.4",public_property:null,mouse_is_over_sm_ad:false,mouse_is_over_lg_ad:false,init:function(f){var e=this;e.options=c.extend(d,f);var g=e.options;if(g.ad_id_slug!==""&&g.small_ad_id===""){g.small_ad_id="small-"+g.ad_id_slug}if(g.ad_id_slug!==""&&g.small_ad_wrap_id===""){g.small_ad_wrap_id="small-"+g.ad_id_slug+"-wrap"}if(g.ad_id_slug!==""&&g.large_ad_id===""){g.large_ad_id="large-"+g.ad_id_slug}if(g.ad_id_slug!==""&&g.large_ad_wrap_id===""){g.large_ad_wrap_id="large-"+g.ad_id_slug+"-wrap"}e.render_ads()},open_large_ad:function(){var e=this;var g=e.options;var f=c("#"+g.large_ad_wrap_id);if(e.mouse_is_over_sm_ad===true){if(g.expand_effect==="slideDown"){f.slideDown("slow")}else{if(g.expand_effect==="slideLeft"){f.stop(true,true).css("width","0px").show().animate({width:g.large_ad_size.split("x")[0]+"px"},"slow")}}}},close_large_ad:function(){var e=this;var g=e.options;var f=c("#"+g.large_ad_wrap_id);if(g.expand_effect==="slideDown"){f.stop(true,true).slideUp("fast")}else{if(g.expand_effect==="slideLeft"){f.stop(true,true).animate({width:"0px"},"fast",function(){c(this).hide()})}}},render_ads:function(){var f=this;var i=f.options;var e=i.small_ad_size.split("x");var h=i.large_ad_size.split("x");var g="top: 0px;";if(i.large_ad_swf_url.indexOf("?")==-1){i.large_ad_swf_url=i.large_ad_swf_url+"?clickTAG="+escape(i.click_thru_url)}else{i.large_ad_swf_url=i.large_ad_swf_url+"&clickTAG="+escape(i.click_thru_url)}html='<div id="'+i.small_ad_wrap_id+'" style="width: '+e[0]+"px, height: "+e[1]+'px;">';html+=b(a,{width:e[0],height:e[1],id:i.small_ad_id,swf_url:i.small_ad_swf_url});html+="</div>";if(i.expand_effect==="slideLeft"){g="top: 0px; right: 0px;"}html+='<div id="'+i.large_ad_wrap_id+'" style="position: absolute; '+g+' display: none; z-index: 100001">';html+=b(a,{width:h[0],height:h[1],id:i.large_ad_id,swf_url:i.large_ad_swf_url});html+="</div>";document.write('<div id="'+i.ad_id_slug+'-wrap" style="position: relative; width: '+e[0]+"px; height: "+e[1]+'px;">'+html+"</div>");c("#"+i.small_ad_wrap_id).hover(function(){f.mouse_is_over_sm_ad=true;f.open_ad_timeout=setTimeout(function(){f.open_large_ad()},(i.open_delay_time*1000))},function(){f.mouse_is_over_sm_ad=false;clearTimeout(f.open_ad_timeout)});c("#"+i.large_ad_wrap_id).hover(function(){f.mouse_is_over_lg_ad=true},function(){f.mouse_is_over_lg_ad=false;f.close_large_ad()})}}};